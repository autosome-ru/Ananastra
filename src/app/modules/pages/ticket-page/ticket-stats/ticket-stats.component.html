<div *ngIf="chartDatasets.length > 0; else loadingTemplate"
     class="row px-0"
>
  <div class="col-12 col-sm-6 col-md-5 col-lg-4 col-xl-3">
    <div style="display: block;">
      <canvas
        width="100%" height="100%"
        *ngIf="chartLoaded"
        mdbChart
        chartType="doughnut"
        [datasets]="chartDatasets"
        [labels]="chartLabels"
        [colors]="chartColors"
        [options]="chartOptions"
        [legend]="true"
        (chartHover)="chartHovered()"
        (chartClick)="chartClicked()"
      >
      </canvas>
    </div>
  </div>
  <div class="col-auto" style="display: flex; align-items: center">
    <ul style="list-style-type: none">
      <li>
        <b>ASB SNPs</b>: {{stats.asbCount}}
      </li>
      <li>
        <b>Not ASBs</b>: {{stats.candidatesCount}}
      </li>
      <li>
        <b>Observed ratio</b>: {{stats.ratio}}%
      </li>
      <li>
        <b>ASB enrichment odds-ratio</b>: {{stats.oddsRatio.toFixed(2)}}
      </li>
      <li>
        <b>ASB enrichment p-value</b>: 10<sup>{{-stats.pValue.toFixed(2)}}</sup>
      </li>
    </ul>
  </div>
</div>

<ng-template #loadingTemplate>
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</ng-template>
